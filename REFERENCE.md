# Reference

<!-- DO NOT EDIT: This document was generated by Puppet Strings -->

## Table of Contents

### Classes

* [`profile_slurm`](#profile_slurm): Blank init, profiles should include other classes in this module
* [`profile_slurm::client`](#profile_slurmclient): Setup slurm config for slurm client
* [`profile_slurm::client::firewall`](#profile_slurmclientfirewall): Setup firewall on slurm client
* [`profile_slurm::compute`](#profile_slurmcompute): Setup slurm config for slurm compute node
* [`profile_slurm::compute::storage`](#profile_slurmcomputestorage): Setup underlying storage for slurm compute nodes
* [`profile_slurm::crons`](#profile_slurmcrons): Manage Ad-hoc crons and related scripts.
* [`profile_slurm::monitor`](#profile_slurmmonitor): Sets up monitoring and collecting of slurm scheduler stats
* [`profile_slurm::scheduler`](#profile_slurmscheduler): Sets up configs for scheduler node
* [`profile_slurm::scheduler::firewall`](#profile_slurmschedulerfirewall): Setup firewall on slurm scheduler
* [`profile_slurm::scheduler::storage`](#profile_slurmschedulerstorage)
* [`profile_slurm::telegraf::slurm_accounting_stats`](#profile_slurmtelegrafslurm_accounting_stats): Configure the telegraf collection script slurm_accounting_stats
* [`profile_slurm::telegraf::slurm_detail_stats`](#profile_slurmtelegrafslurm_detail_stats): Configure the telegraf collection script slurm_detail_stats
* [`profile_slurm::telegraf::slurm_job_efficiency`](#profile_slurmtelegrafslurm_job_efficiency): Configure the telegraf collection script slurm_job_efficiency
* [`profile_slurm::telegraf::slurm_stats`](#profile_slurmtelegrafslurm_stats): Configure the telegraf collection script slurm_stats
* [`profile_slurm::telegraf::telegraf`](#profile_slurmtelegraftelegraf): Sets up requirements for all telegraf checks

## Classes

### <a name="profile_slurm"></a>`profile_slurm`

Blank init, profiles should include other classes in this module

#### Examples

##### 

```puppet
include profile_slurm
```

### <a name="profile_slurmclient"></a>`profile_slurm::client`

Setup slurm config for slurm client

#### Examples

##### 

```puppet
include profile_slurm::client
```

### <a name="profile_slurmclientfirewall"></a>`profile_slurm::client::firewall`

Setup firewall on slurm client

#### Examples

##### 

```puppet
include profile_slurm::client::firewall
```

#### Parameters

The following parameters are available in the `profile_slurm::client::firewall` class:

* [`slurmd_port`](#slurmd_port)
* [`sources`](#sources)

##### <a name="slurmd_port"></a>`slurmd_port`

Data type: `Integer`

Destination ports that need to be open for the slurmd service

##### <a name="sources"></a>`sources`

Data type: `Array[String]`

Array of CIDRs that need to be open for the slurmd service

### <a name="profile_slurmcompute"></a>`profile_slurm::compute`

Setup slurm config for slurm compute node

#### Examples

##### 

```puppet
include profile_slurm::compute
```

### <a name="profile_slurmcomputestorage"></a>`profile_slurm::compute::storage`

Setup underlying storage for slurm compute nodes

#### Examples

##### 

```puppet
include profile_slurm::scheduler::storage
```

#### Parameters

The following parameters are available in the `profile_slurm::compute::storage` class:

* [`require_storage`](#require_storage)
* [`storage_dependencies`](#storage_dependencies)
* [`tmpfs_dir`](#tmpfs_dir)
* [`tmpfs_dir_refresh_command`](#tmpfs_dir_refresh_command)
* [`tmpfs_dir_refreshed_by`](#tmpfs_dir_refreshed_by)

##### <a name="require_storage"></a>`require_storage`

Data type: `Array[String]`

Optionally list resources (e.g., services) that require storage
in order to function.

##### <a name="storage_dependencies"></a>`storage_dependencies`

Data type: `Array[String]`

Optionally list resources (e.g. mounts) that should be present before
setting up Slurm on a compute node. Should be in the form that would
be specified as a requirement ("before") various Slurm compute (slurmd)
resources, e.g.:
  - "Lvm::Logical_volume::local"

##### <a name="tmpfs_dir"></a>`tmpfs_dir`

Data type: `Optional[String]`

Directory to create for job_container/tmpfs ("job /tmp" directory).
Created by File resource or Exec depending on value of
$tmpfs_dir_refeshed_by.
E.g.: "/local/slurmjobs"

##### <a name="tmpfs_dir_refresh_command"></a>`tmpfs_dir_refresh_command`

Data type: `Optional[String]`

Optional command that should refresh $tmpfs_dir. If not specified,
then "rm -rf ${tmpfs_dir}" will be used.

##### <a name="tmpfs_dir_refreshed_by"></a>`tmpfs_dir_refreshed_by`

Data type: `Optional[String]`

Resource which $tmpfs_dir requires and which should cause it to be
refreshed (removed and recreated). If this is NOT defined, and
$tmpfs_dir IS defined, then Puppet will simply ensure that $tmpfs_dir
exists.
E.g.: "Lvm::Logical_volume['local']"

### <a name="profile_slurmcrons"></a>`profile_slurm::crons`

Manage Ad-hoc crons and related scripts.

#### Examples

##### 

```puppet
include profile_slurm::crons
```

#### Parameters

The following parameters are available in the `profile_slurm::crons` class:

* [`crons`](#crons)
* [`files`](#files)

##### <a name="crons"></a>`crons`

Data type: `Hash`

Cron resources.

##### <a name="files"></a>`files`

Data type: `Hash`

File resources.

### <a name="profile_slurmmonitor"></a>`profile_slurm::monitor`

Sets up monitoring and collecting of slurm scheduler stats

#### Examples

##### 

```puppet
include profile_slurm::monitor
```

### <a name="profile_slurmscheduler"></a>`profile_slurm::scheduler`

Sets up configs for scheduler node

#### Examples

##### 

```puppet
include profile_slurm::scheduler
```

### <a name="profile_slurmschedulerfirewall"></a>`profile_slurm::scheduler::firewall`

Setup firewall on slurm scheduler

#### Examples

##### 

```puppet
include profile_slurm::scheduler::firewall
```

#### Parameters

The following parameters are available in the `profile_slurm::scheduler::firewall` class:

* [`slurmctld_port`](#slurmctld_port)
* [`slurmdbd_port`](#slurmdbd_port)
* [`sources`](#sources)

##### <a name="slurmctld_port"></a>`slurmctld_port`

Data type: `Integer`

Destination port that need to be open for the slurmctld service

##### <a name="slurmdbd_port"></a>`slurmdbd_port`

Data type: `Integer`

Destination port that need to be open for the slurmdbd service

##### <a name="sources"></a>`sources`

Data type: `Array[String]`

Array of CIDRs that need to be open for the slurmctld and slurmdbd service

### <a name="profile_slurmschedulerstorage"></a>`profile_slurm::scheduler::storage`

The profile_slurm::scheduler::storage class.

#### Examples

##### 

```puppet
include profile_slurm::scheduler::storage
```

#### Parameters

The following parameters are available in the `profile_slurm::scheduler::storage` class:

* [`storage_dependencies`](#storage_dependencies)
* [`require_storage`](#require_storage)

##### <a name="storage_dependencies"></a>`storage_dependencies`

Data type: `Array[String]`

Optionally list resources (e.g. mounts) that should be present before
setting up Slurm on a scheduler. Should be in the form that would
be specified as a requirement ("before") various Slurm scheduler
resources, e.g.:
  Lvm::Logical_volume::mysql
  Lvm::Logical_volume::slurm

##### <a name="require_storage"></a>`require_storage`

Data type: `Array[String]`



### <a name="profile_slurmtelegrafslurm_accounting_stats"></a>`profile_slurm::telegraf::slurm_accounting_stats`

Configure the telegraf collection script slurm_accounting_stats

#### Examples

##### 

```puppet
include profile_slurm::telegraf::slurm_accounting_stats
```

#### Parameters

The following parameters are available in the `profile_slurm::telegraf::slurm_accounting_stats` class:

* [`enable`](#enable)
* [`interval`](#interval)
* [`timeout`](#timeout)

##### <a name="enable"></a>`enable`

Data type: `Boolean`

Enables the telegraf collection script slurm_accounting_stats

##### <a name="interval"></a>`interval`

Data type: `String`

How often to run the slurm_accounting_stats telegraf script

##### <a name="timeout"></a>`timeout`

Data type: `String`

Timeout for the slurm_accounting_stats telegraf script

### <a name="profile_slurmtelegrafslurm_detail_stats"></a>`profile_slurm::telegraf::slurm_detail_stats`

Configure the telegraf collection script slurm_detail_stats

#### Examples

##### 

```puppet
include profile_slurm::telegraf::slurm_detail_stats
```

#### Parameters

The following parameters are available in the `profile_slurm::telegraf::slurm_detail_stats` class:

* [`enable`](#enable)
* [`interval`](#interval)
* [`timeout`](#timeout)

##### <a name="enable"></a>`enable`

Data type: `Boolean`

Enables the telegraf collection script slurm_detail_stats

##### <a name="interval"></a>`interval`

Data type: `String`

How often to run the slurm_detail_stats telegraf script

##### <a name="timeout"></a>`timeout`

Data type: `String`

Timeout for the slurm_detail_stats telegraf script

### <a name="profile_slurmtelegrafslurm_job_efficiency"></a>`profile_slurm::telegraf::slurm_job_efficiency`

Configure the telegraf collection script slurm_job_efficiency

#### Examples

##### 

```puppet
include profile_slurm::telegraf::slurm_job_efficiency
```

#### Parameters

The following parameters are available in the `profile_slurm::telegraf::slurm_job_efficiency` class:

* [`enable`](#enable)
* [`interval`](#interval)
* [`timeout`](#timeout)

##### <a name="enable"></a>`enable`

Data type: `Boolean`

Enables the telegraf collection script slurm_job_efficiency

##### <a name="interval"></a>`interval`

Data type: `String`

How often to run the slurm_job_efficiency telegraf script

##### <a name="timeout"></a>`timeout`

Data type: `String`

Timeout for the slurm_job_efficiency telegraf script

### <a name="profile_slurmtelegrafslurm_stats"></a>`profile_slurm::telegraf::slurm_stats`

Configure the telegraf collection script slurm_stats

#### Examples

##### 

```puppet
include profile_slurm::telegraf::slurm_stats
```

#### Parameters

The following parameters are available in the `profile_slurm::telegraf::slurm_stats` class:

* [`enable`](#enable)
* [`interval`](#interval)
* [`timeout`](#timeout)

##### <a name="enable"></a>`enable`

Data type: `Boolean`

Enables the telegraf collection script slurm_stats

##### <a name="interval"></a>`interval`

Data type: `String`

How often to run the slurm_stats telegraf script

##### <a name="timeout"></a>`timeout`

Data type: `String`

Timeout for the slurm_stats telegraf script

### <a name="profile_slurmtelegraftelegraf"></a>`profile_slurm::telegraf::telegraf`

Sets up requirements for all telegraf checks

#### Examples

##### 

```puppet
include profile_slurm::telegraf::telegraf
```

#### Parameters

The following parameters are available in the `profile_slurm::telegraf::telegraf` class:

* [`enable`](#enable)
* [`required_pkgs`](#required_pkgs)
* [`script_path`](#script_path)
* [`slurm_database`](#slurm_database)
* [`slurm_job_table`](#slurm_job_table)
* [`slurm_password`](#slurm_password)
* [`slurm_path`](#slurm_path)
* [`slurm_username`](#slurm_username)

##### <a name="enable"></a>`enable`

Data type: `Boolean`

Used to enable or disable all slurm telegraf checks

##### <a name="required_pkgs"></a>`required_pkgs`

Data type: `Array[String]`

String array of packages required for telegraf checks

##### <a name="script_path"></a>`script_path`

Data type: `String`

Path where telegraf scripts and supporting config files will go

##### <a name="slurm_database"></a>`slurm_database`

Data type: `String`

Slurm database to query

##### <a name="slurm_job_table"></a>`slurm_job_table`

Data type: `String`

Slurm job table to query

##### <a name="slurm_password"></a>`slurm_password`

Data type: `Optional[String]`

Password for the slurm user account
Leave blank if using MySQL socket authentication

Default value: `''`

##### <a name="slurm_path"></a>`slurm_path`

Data type: `String`

Path to slurm bin

##### <a name="slurm_username"></a>`slurm_username`

Data type: `String`

Username for pulling slurm stats

